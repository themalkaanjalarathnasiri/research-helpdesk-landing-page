name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main # Runs the pipeline when changes are pushed to the 'main' branch

jobs:
  deploy:
    runs-on: ubuntu-latest # Runs on the latest version of Ubuntu

    steps:
      # Step 1: Checkout the code
      - name: Checkout code
        uses: actions/checkout@v2

      # Step 2: Create a new gh-pages branch (if it doesn't exist) and deploy files to it
      - name: Deploy to GitHub Pages
        run: |
          # Create a new orphan branch (no commit history)
          git checkout --orphan gh-pages

          # Remove all files from the working directory (except the ones you need)
          git rm -rf .

          # Copy all your static files (HTML, CSS, JS) to the root of the repository
          cp -r * .  # Copy the project files (HTML, CSS, JS) to the root folder

          # Add all the files to Git
          git add --all
          git commit -m "Deploy site to GitHub Pages"

          # Push the changes to the gh-pages branch
          git push --force origin gh-pages
